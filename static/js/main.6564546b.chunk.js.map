{"version":3,"sources":["utils/compose.js","components/bookstore-context/index.js","components/hoc/withBookstoreService.js","actions/index.js","components/book-list-item/index.js","components/book-list-item/book-list-item.js","components/spinner/index.js","components/error-indicator/index.js","components/error-indicator/error-indicator.js","components/book-list/book-list.js","components/book-list/index.js","components/pages/home-page.js","components/cart-table/index.js","components/cart-table/cart-table.js","components/pages/cart-page.js","components/header/header.js","components/header/index.js","components/app/index.js","components/app/app.js","components/error-boundry/index.js","components/error-boundry/error-boundry.js","services/bookstore-service.js","reducers/index.js","store.js","index.js"],"names":["compose","_len","arguments","length","funcs","Array","_key","comp","reduceRight","wrapped","f","React","createContext","BookstoreProvider","Provider","BookstoreConsumer","Consumer","withBookstoreService","Wrapped","props","react_default","a","createElement","bookstoreService","Object","assign","increaseItemInCart","itemId","type","payload","fetchBooks","dispatch","getBooks","then","data","catch","err","BookListItem","_ref","book","onAddToCart","title","author","imgLink","price","className","src","alt","onClick","Spinner","style","width","height","role","ErrorIndicator","BookList","books","map","key","id","components_book_list_item","BookListContainer","this","_this$props","loading","error","components_error_indicator","spinner","book_list_BookList","Component","connect","_ref2","_ref3","HomePage","components_book_list","CartTable","items","cartItems","total","cartTotal","onIncrease","onDecrease","onDelete","item","ind","amount","CartPage","components_cart_table","Header","react_router_dom","to","App","Fragment","components_header","react_router","path","component","exact","ErrorBoundry","state","hasError","setState","children","_this","Promise","resolve","reject","setTimeout","initialState","updateItem","quantity","undefined","findIndex","find","objectSpread","concat","toConsumableArray","slice","cart","reducer","action","store","createStore","BookstoreService","ReactDOM","render","es","error_boundry","value","basename","process","components_app","document","getElementById"],"mappings":"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","file":"static/js/main.6564546b.chunk.js","sourcesContent":["const compose = (...funcs) => (comp) => {\r\n    return funcs.reduceRight((wrapped, f) => f(wrapped), comp);\r\n}\r\n\r\nexport default compose;","import React from 'react';\r\n\r\nconst {\r\n    Provider: BookstoreProvider, \r\n    Consumer: BookstoreConsumer \r\n} = React.createContext();\r\n\r\nexport {BookstoreProvider, BookstoreConsumer};","import React from 'react';\r\n\r\nimport {BookstoreConsumer} from '../bookstore-context';\r\n\r\nconst withBookstoreService = () => (Wrapped) => {\r\n    return (props) => {\r\n        return (\r\n            <BookstoreConsumer>\r\n                {\r\n                    (bookstoreService) => {\r\n                        return <Wrapped {...props} \r\n                                    bookstoreService={bookstoreService} />\r\n                    }\r\n                }\r\n            </BookstoreConsumer>\r\n        );\r\n    }\r\n}\r\nexport default withBookstoreService;","const booksRequested = () => {\r\n    return {\r\n        type: 'FETCH_BOOKS_REQUEST' \r\n    }\r\n}\r\n\r\nconst booksLoaded = (newBooks) => {\r\n    return {\r\n        type: 'FETCH_BOOKS_SUCCESS',\r\n        payload: newBooks\r\n    };\r\n};\r\n\r\nconst booksError = (error) => {\r\n    return {\r\n        type: 'FETCH_BOOKS_FAILURE',\r\n        payload: error\r\n    }\r\n}\r\n\r\nexport const deleteItemFromCart = (itemId) => {\r\n    return {\r\n        type: 'DELETE_ITEM_FROM_CART',\r\n        payload: itemId\r\n    }\r\n}\r\n\r\nexport const increaseItemInCart = (itemId) => {\r\n    return {\r\n        type: 'INCREASE_ITEM_IN_CART',\r\n        payload: itemId\r\n    }\r\n}\r\n\r\nexport const decreaseItemInCart = (itemId) => {\r\n    return {\r\n        type: 'DECREASE_ITEM_IN_CART',\r\n        payload: itemId\r\n    }\r\n}\r\n\r\nexport const fetchBooks = (dispatch, bookstoreService) => () => {\r\n    dispatch(booksRequested());\r\n    bookstoreService.getBooks()\r\n        .then((data) => dispatch(booksLoaded(data)))\r\n        .catch((err) => dispatch(booksError(err)));\r\n}\r\n","import BookListItem from './book-list-item';\r\n\r\nexport default BookListItem;","import React from 'react';\r\n\r\nimport './book-list-item.css';\r\n\r\nconst BookListItem = ({book, onAddToCart}) => {\r\n    const {title, author, imgLink, price} = book;\r\n    return (\r\n        <div className=\"container \">\r\n            <div className=\"row\">\r\n                <div className= \"col-md-3 col-5 align-self-end\">\r\n                    <img src={imgLink} className=\"img-fluid book-cover\" alt=\"Book cover\"/>\r\n                </div>\r\n                <div className=\"col-md-9 col-7 align-self-start\">\r\n                    <div className=\"book-details\">\r\n                        <div className=\"book-title\">{title}</div>\r\n                        <div className=\"w-100\"></div>\r\n                        <div>by {author}</div>\r\n                        <div className=\"book-price\">{price}$</div>\r\n\r\n                        <button\r\n                            onClick={onAddToCart} \r\n                            className=\"btn btn-info add-to-cart\">Add to cart</button>\r\n                    </div>\r\n                </div>\r\n                \r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default BookListItem;","import React from 'react';\r\n\r\nconst Spinner = () => {\r\n    return(\r\n        <div className=\"spinner-grow\" style={{width: 4+'rem', height: 4+'rem'}} role=\"status\">\r\n            <span className=\"sr-only\">Loading...</span>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Spinner;","import ErrorIndicator from './error-indicator';\r\n\r\nexport default ErrorIndicator;","import React from 'react';\r\n\r\nimport './error-indicator.css';\r\n\r\nconst ErrorIndicator = () => {\r\n    return (\r\n        <div className = \"cover-container d-flex w-100 h-100 p-3 mx-auto flex-column\">\r\n            <div className=\"inner cover text-center\">\r\n                <h1 className=\"cover-heading\">Oops there is an error happened</h1>\r\n                <p className=\"lead\">Don't worry :) We've already started to fix it!</p>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default ErrorIndicator;","import React from 'react';\r\nimport {connect } from 'react-redux'\r\n\r\nimport {compose} from '../../utils';\r\nimport {withBookstoreService} from '../hoc';\r\nimport {fetchBooks, increaseItemInCart} from '../../actions';\r\nimport BookListItem from '../book-list-item';\r\nimport Spinner from '../spinner';\r\nimport ErrorIndicator from '../error-indicator';\r\n\r\nconst BookList = ({books, onAddToCart}) => {\r\n    return(\r\n        <ul className=\"list-group\">\r\n            {\r\n                books.map((book) => {\r\n                    return (\r\n                        <li className=\"list-group-item\" key = {book.id}>\r\n                            <BookListItem book ={book} onAddToCart = {() => onAddToCart(book.id)}/>\r\n                        </li>\r\n                    )\r\n                })\r\n            }\r\n        </ul>\r\n    )\r\n}\r\n\r\nclass BookListContainer extends React.Component \r\n{\r\n    componentDidMount()\r\n    {\r\n        this.props.fetchBooks();\r\n    }\r\n    render() \r\n    {\r\n        const {books, loading, error, onAddToCart} = this.props;\r\n        if(error)\r\n            return <ErrorIndicator />;\r\n        if(loading)\r\n            return <Spinner />;\r\n        \r\n        return <BookList books = {books} onAddToCart={onAddToCart} />;\r\n    }\r\n}\r\n\r\n\r\n\r\nconst mapStateToProps = ({books, loading, error}) => {\r\n    return { books, loading, error}\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch, {bookstoreService}) => {\r\n    return {\r\n        fetchBooks: fetchBooks(dispatch, bookstoreService),\r\n        onAddToCart: (id) => dispatch(increaseItemInCart(id))\r\n    }\r\n};\r\n\r\nexport default compose(\r\n        withBookstoreService(),\r\n        connect(mapStateToProps, mapDispatchToProps)\r\n    )(BookListContainer);\r\n","import BookList from './book-list';\r\n\r\nexport default BookList;","import React from 'react';\r\n\r\nimport BookList from '../book-list';\r\n\r\nconst HomePage = () => {\r\n    return <BookList />\r\n}\r\n\r\nexport default HomePage;","import CartTable from './cart-table';\r\n\r\nexport default CartTable;","import React from 'react';\r\n\r\nimport {connect} from 'react-redux';\r\n\r\nimport {deleteItemFromCart, increaseItemInCart, decreaseItemInCart} from '../../actions';\r\n\r\nimport './cart-table.css';\r\n\r\nconst CartTable = ({items, total, onIncrease, onDecrease, onDelete}) => {\r\n    return (\r\n        <div className=\"cart-table\">\r\n            <h2>Your order</h2>\r\n            <table className=\"table\">\r\n                <thead>\r\n                    <tr>\r\n                        <th className=\"item-id\">#</th>\r\n                        <th>Item</th>\r\n                        <th>Count</th>\r\n                        <th>Total</th>\r\n                        <th>Action</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    {\r\n                        items.map((item, ind) => {\r\n                            const {id, title, amount, price} = item;\r\n                            return (\r\n                                <tr key ={id}>\r\n                                    <td className=\"item-id\">{ind+1}</td>\r\n                                    <td>{title}</td>\r\n                                    <td>{amount}</td>\r\n                                    <td>{price}$</td>\r\n                                    <td className=\"action\">\r\n                                        <button\r\n                                            onClick={()=> onDelete(id)} \r\n                                            className=\"btn btn-outline-danger btn-sm\">\r\n                                            <i className=\"fa fa-trash-o\" />\r\n                                        </button>\r\n                                        <button\r\n                                            onClick={()=>onIncrease(id)} \r\n                                            className=\"btn btn-outline-success btn-sm\">\r\n                                            <i className=\"fa fa-plus-circle\" />\r\n                                        </button>\r\n                                        <button\r\n                                            onClick={()=>onDecrease(id)} \r\n                                            className=\"btn btn-outline-warning btn-sm\">\r\n                                            <i className=\"fa fa-minus-circle\" />\r\n                                        </button>\r\n                                    </td>\r\n                                </tr>\r\n                            );\r\n                        })\r\n                    }\r\n                </tbody>\r\n            </table>\r\n            <div className=\"total\" >\r\n                Total: {total}$\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nconst mapStateToProps = ({cartItems, cartTotal}) => {\r\n    return {\r\n        items: cartItems, \r\n        total: cartTotal\r\n    }\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        onIncrease: (id) => dispatch(increaseItemInCart(id)),\r\n        onDecrease: (id) => dispatch(decreaseItemInCart(id)),\r\n        onDelete: (id) => dispatch(deleteItemFromCart(id))\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(CartTable);","import React from 'react'\r\n\r\nimport CartTable from '../cart-table';\r\n\r\nconst CartPage = () => {\r\n    return <CartTable />;\r\n}\r\n\r\nexport default CartPage;","import React from 'react';\r\nimport {Link} from 'react-router-dom';\r\nimport {connect} from 'react-redux';\r\n\r\nimport './header.css'\r\n\r\nclass Header extends React.Component\r\n{\r\n    render() \r\n    {\r\n        const {total, items} = this.props;\r\n        return (\r\n            <div className=\"container-fluid\">\r\n                <div className=\"row\">\r\n                    <div className=\"col-6 col-md-6 offset-md-1\">\r\n                        <h1><Link to= \"/\">ReStore</Link></h1>\r\n                    </div>\r\n                    <div className=\"col-6 col-md-4 align-self-center \">\r\n                        <h3 className=\"cart text-right\"><Link to= \"/cart\"><i className=\"fa fa-shopping-basket\"></i> {items} items ({total}$)  </Link></h3>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = ({cartItems, cartTotal}) =>{\r\n    return{\r\n        items: cartItems.length,\r\n        total: cartTotal\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps)(Header);","import Header from './header';\r\n\r\nexport default Header;","import App from './app';\r\n\r\nexport default App;","import React from 'react';\r\nimport {Route, Switch} from 'react-router-dom';\r\nimport {HomePage, CartPage} from '../pages';\r\nimport Header from '../header';\r\n\r\nimport './app.css';\r\n\r\nconst App = () => {\r\n    return(\r\n        <React.Fragment>\r\n            <Header total={140} items={3} />\r\n            <Switch >\r\n                <Route path =\"/\" component={HomePage} exact/>\r\n                <Route path =\"/cart\" component={CartPage}/>\r\n            </Switch>\r\n        </React.Fragment>\r\n    );\r\n}\r\n\r\nexport default App;","import ErrorBoundry from './error-boundry';\r\n\r\nexport default ErrorBoundry;","import React from 'react';\r\n\r\nimport ErrorIndicator from '../error-indicator'\r\n\r\nexport default class ErrorBoundry extends React.Component\r\n{\r\n    state = {\r\n        hasError: false\r\n    }\r\n    \r\n    componentDidCatch()\r\n    {\r\n        this.setState({hasError: true});\r\n    }\r\n\r\n    render() \r\n    {\r\n        const view = this.state.hasError ? <ErrorIndicator /> : this.props.children;\r\n        return view;\r\n    }\r\n}","export default class \r\n{\r\n    data = [\r\n        {id: 1, title: 'Production-Ready Microservices', author: 'Susan J. Fowler',\r\n         imgLink: 'https://images-na.ssl-images-amazon.com/images/I/41yJ75gpV-L._SX381_BO1,204,203,200_.jpg',\r\n         price: 200},\r\n        {id: 2, title: 'Release It!', author: 'Michael T. Nygard',\r\n         imgLink: 'https://images-na.ssl-images-amazon.com/images/I/419zAwJJH4L._SX415_BO1,204,203,200_.jpg',\r\n         price: 100}\r\n    ];\r\n    getBooks()\r\n    {\r\n        return new Promise((resolve, reject) => {\r\n            setTimeout(()=>{\r\n                resolve(this.data);\r\n            }, 500);\r\n        });\r\n    }\r\n}","\r\nconst initialState = {\r\n    books: [],\r\n    loading: true,\r\n    error: null,\r\n    cartItems: [],\r\n    cartTotal: 0\r\n};\r\n\r\nconst updateItem = (payload, state, quantity = 1) => {\r\n    const {cartItems, cartTotal, books} = state;\r\n    const ind = cartItems.findIndex((item) => item.id === payload);\r\n    const book = books.find((book) => book.id === payload); \r\n    \r\n    let item = cartItems[ind];\r\n    if(!item)\r\n        item = {id: book.id, title: book.title, amount: 0, price: 0};\r\n    \r\n    item.amount += quantity;  \r\n    if(quantity < 0 && item.amount === 0)\r\n        return {\r\n            ...state,\r\n            cartItems: [...cartItems.slice(0, ind), ...cartItems.slice(ind+1)], \r\n            cartTotal: cartTotal-item.price\r\n        };\r\n\r\n    item.price += book.price * quantity;  \r\n    let cart = {cartTotal: cartTotal+(book.price*quantity)};\r\n    if(ind!==-1)\r\n        cart.cartItems = [...cartItems.slice(0, ind), item, ...cartItems.slice(ind+1)];\r\n    else\r\n        cart.cartItems = [...cartItems, item]; \r\n    return {...state, ...cart};\r\n}\r\n\r\nconst reducer = (state = initialState, action) => {\r\n    switch(action.type)\r\n    {   \r\n        case 'FETCH_BOOKS_REQUEST':\r\n            return {\r\n                ...state,\r\n                loading: true,\r\n                error: null\r\n            }\r\n        case 'FETCH_BOOKS_SUCCESS':\r\n            return {\r\n                ...state,\r\n                books: action.payload,\r\n                loading: false,\r\n                error: null\r\n            };\r\n        case 'FETCH_BOOKS_FAILURE':\r\n            return{\r\n                ...state,\r\n                books:[],\r\n                loading: false,\r\n                error: action.payload\r\n            }\r\n        case 'INCREASE_ITEM_IN_CART':\r\n            return{\r\n                ...state,\r\n                ...updateItem(action.payload, state)\r\n            }\r\n        case 'DECREASE_ITEM_IN_CART':\r\n            return{\r\n                ...state,\r\n                ...updateItem(action.payload, state, -1)\r\n            }\r\n        case 'DELETE_ITEM_FROM_CART':\r\n            const item = state.cartItems.find((item) => item.id === action.payload);\r\n            return{\r\n                ...state,\r\n                ...updateItem(action.payload, state, -item.amount)\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport default reducer;","import {createStore} from 'redux';\r\n\r\nimport reducer from './reducers';\r\n\r\nconst store = createStore(reducer);\r\n\r\nexport default store;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport {Provider} from 'react-redux';\nimport {BrowserRouter as Router} from 'react-router-dom';\n\nimport App from './components/app';\nimport ErrorBoundry from './components/error-boundry';\nimport BookstoreService from './services/bookstore-service';\nimport {BookstoreProvider} from './components/bookstore-context';\n\nimport store from './store';\n\nconst bookstoreService = new BookstoreService();\n\n\n\nReactDOM.render(\n    <Provider store ={store} > \n        <ErrorBoundry>\n            <BookstoreProvider value={bookstoreService}>\n                <Router basename={process.env.PUBLIC_URL}>\n                    <App />\n                </Router>\n            </BookstoreProvider>\n        </ErrorBoundry>\n    </Provider>, \n    document.getElementById(\"root\")\n    );"],"sourceRoot":""}